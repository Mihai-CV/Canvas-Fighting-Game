{"mappings":"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","sources":["src/utils/keyboardMap.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a215f6a3381147d0.js","src/actors/Actor.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-3d9aaafc4fb1b1b1.js","src/actors/Fighter.ts","src/actors/FPSViewer.ts","node_modules/@parcel/runtime-js/lib/runtime-2a3944d9666c6bb5.js","src/actors/Map.ts","src/script.ts"],"sourcesContent":["export enum FigKey {\r\n  UP,\r\n  DOWN,\r\n  LEFT,\r\n  RIGHT,\r\n  H,\r\n}\r\n\r\nexport interface KeyboardMap {\r\n  [key: string]: FigKey;\r\n}\r\n\r\nexport let MAP_A = {\r\n  ArrowUp: FigKey.UP,\r\n  ArrowDown: FigKey.DOWN,\r\n  ArrowLeft: FigKey.LEFT,\r\n  ArrowRight: FigKey.RIGHT,\r\n  h: FigKey.H\r\n};\r\nexport let MAP_B = {\r\n  w: FigKey.UP,\r\n  s: FigKey.DOWN,\r\n  a: FigKey.LEFT,\r\n  d: FigKey.RIGHT,\r\n};\r\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6qpDd\\\":\\\"index.d8e8f47f.js\\\",\\\"kOIqV\\\":\\\"Ryu_sprite_sheet-removebg.a85bdbad.png\\\",\\\"7TP8k\\\":\\\"scenario.fbcdb5c4.jpg\\\"}\"));","import { Point } from \"../types/Point\";\r\n\r\nexport interface IActor {\r\n\tposition: Point;\r\n\tupdate: (delta: number) => void;\r\n\tkeyboard_event_down?: (key: string) => void;\r\n\tkeyboard_event_up?: (key: string) => void;\r\n\tdraw: (delta: number, ctx: CanvasRenderingContext2D) => void;\r\n}\r\n\r\nexport class Actor implements IActor {\r\n\tposition: Point;\r\n\tconstructor(position: Point) {\r\n\t\tthis.position = position;\r\n\t}\r\n\tupdate(delta: number) {}\r\n\tdraw(delta: number, ctx: CanvasRenderingContext2D) {}\r\n\tkeyboard_event(key: string) {}\r\n}\r\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('6qpDd') + require('./helpers/bundle-manifest').resolve(\"kOIqV\");","import { Actor, IActor } from \"./Actor\";\r\nimport { Point } from \"../types/Point\";\r\nimport { FigKey, KeyboardMap } from \"../utils/keyboardMap\";\r\nconst sprite = require(\"../../public/assets/Ryu_sprite_sheet-removebg.png\");\r\n\r\n\r\ntype Size = { w: number; h: number };\r\n\r\nexport class Fighter extends Actor implements IActor {\r\n  figSize: Size;\r\n  keyboardMap: KeyboardMap;\r\n  speed: Point;\r\n  maxSpeed: number;\r\n  jumping: boolean;\r\n  ryuSprite: HTMLImageElement;\r\n  frameCount:number;\r\n  move: string;\r\n  constructor(\r\n    initialPos: Point,\r\n    keyboardMap: KeyboardMap,\r\n    size: Size = { w: 160, h: 390 }\r\n  ) {\r\n    super(initialPos);\r\n    this.keyboardMap = keyboardMap;\r\n    this.figSize = size;\r\n    this.maxSpeed = 160;\r\n    this.speed = { x: 0, y: 0 };\r\n    this.jumping=false\r\n\r\n    this.frameCount = 0;\r\n    this.ryuSprite = new Image();\r\n    this.ryuSprite.src = sprite;\r\n    this.move = \"noting\";\r\n  }\r\n  update(delta: number) {\r\n    let newPosX = this.position.x + this.speed.x * delta;\r\n    if (newPosX < 1020 && newPosX >= 0) {\r\n      this.position.x = newPosX;\r\n    }\r\n    let newPosY = this.position.y + this.speed.y;\r\n    this.position.y = newPosY;\r\n    if(newPosY < 540){\r\n      this.speed.y += 1.8*0.4;\r\n    }\r\n    if (newPosY >= 540) {\r\n      this.jumping = false;\r\n      newPosY = 540;\r\n      this.speed.y = 0;\r\n    }\r\n  }\r\n  draw(delta: number, ctx: CanvasRenderingContext2D) {\r\n    \r\n    const ryuFrameNeutral = [\r\n      {sx: 5, sy: 10, sW: 65, sH: 95},\r\n      {sx: 70, sy: 10, sW: 65, sH: 95},\r\n      {sx: 135, sy: 10, sW: 65, sH: 95},\r\n      {sx: 201, sy: 10, sW: 65, sH: 95},\r\n      {sx: 270, sy: 10, sW: 65, sH: 95},\r\n    ]\r\n    const ryuFrameWalk = [\r\n      {sx: 7, sy: 128, sW: 65, sH: 95},\r\n      {sx: 75, sy: 128, sW: 65, sH: 95},\r\n      {sx: 153, sy: 128, sW: 65, sH: 95},\r\n      {sx: 227, sy: 128, sW: 66, sH: 95},\r\n      {sx: 306, sy: 128, sW: 65, sH: 95},\r\n      {sx: 367, sy: 124, sW: 63, sH: 95},\r\n    ]\r\n    const ryuFrameJump = [\r\n      {sx: 63, sy: 241, sW: 65, sH: 100},\r\n      {sx: 132, sy: 231, sW: 65, sH: 95},\r\n      {sx: 188, sy: 230, sW: 66, sH: 95},\r\n      {sx: 250, sy: 237, sW: 65, sH: 95},\r\n      {sx: 312, sy: 232, sW: 63, sH: 95},\r\n    ]\r\n    const ryuFrameJumpDown = [\r\n      {sx: 374, sy: 245, sW: 63, sH: 110},\r\n    ]\r\n    const ryuFramelp = [\r\n      {sx: 6, sy: 360, sW: 65, sH: 100},\r\n      {sx: 96, sy: 360, sW: 65, sH: 95},\r\n\r\n    ]\r\n\r\n  let inNeutral = 1;\r\n    \r\n   if((this.speed.x > 0 || this.speed.x < 0) && this.position.y >= 540){\r\n    let i = Math.floor(this.frameCount / 8);\r\n    \r\n    let frame = ryuFrameWalk[i % ryuFrameWalk.length]\r\n\r\n    ctx.drawImage(this.ryuSprite, frame.sx, frame.sy, frame.sW, frame.sH, this.position.x, this.position.y, this.figSize.w, this.figSize.h)\r\n   }\r\n\r\n   if(this.speed.y < 0){\r\n     inNeutral = 0;\r\n    let i = Math.floor(this.frameCount / 20);\r\n\r\n    let frame = ryuFrameJump[i % ryuFrameJump.length]\r\n\r\n    ctx.drawImage(this.ryuSprite, frame.sx, frame.sy, frame.sW, frame.sH, this.position.x, this.position.y, this.figSize.w, this.figSize.h)\r\n    }\r\n\r\n   if(this.speed.y > 0){\r\n     inNeutral = 0;\r\n    let i = Math.floor(this.frameCount / 16);\r\n    console.log(i);\r\n\r\n    let frame = ryuFrameJumpDown[i % ryuFrameJumpDown.length]\r\n\r\n    ctx.drawImage(this.ryuSprite, frame.sx, frame.sy, frame.sW, frame.sH, this.position.x, this.position.y, this.figSize.w, 400)\r\n    }\r\n    \r\n    if(this.move == \"lp\"){\r\n      console.log(this.move);\r\n      let i = Math.floor(this.frameCount/12);\r\n      \r\n      let frame = ryuFramelp[i % ryuFramelp.length]\r\n\r\n      ctx.drawImage(this.ryuSprite, frame.sx, frame.sy, frame.sW, frame.sH, this.position.x, this.position.y, this.figSize.w, this.figSize.h)\r\n      this.speed.x = 0;\r\n      inNeutral = 0;\r\n    }\r\n\r\n    if(this.speed.x == 0 && this.speed.y == 0 && inNeutral == 1){\r\n      let i = Math.floor(this.frameCount / 12);\r\n      \r\n      let frame = ryuFrameNeutral[i % ryuFrameNeutral.length]\r\n\r\n      ctx.drawImage(this.ryuSprite, frame.sx, frame.sy, frame.sW, frame.sH, this.position.x, this.position.y, this.figSize.w, this.figSize.h)\r\n      }\r\n\r\n    inNeutral = 1;\r\n    this.frameCount++;\r\n  }\r\n\r\n  keyboard_event_down(key: string) {\r\n    let tecla = this.keyboardMap[key];\r\n\r\n    if (tecla == FigKey.LEFT) {\r\n      this.speed.x = -this.maxSpeed + 45;\r\n    } else if (tecla == FigKey.RIGHT) {\r\n      this.speed.x = this.maxSpeed;\r\n    } else if (tecla == FigKey.UP && this.jumping == false) {\r\n      this.speed.y -= 25;\r\n      this.jumping = true;\r\n    } else if (tecla == FigKey.DOWN) {\r\n    } else if (tecla == FigKey.H){\r\n      this.move = \"lp\";\r\n    }\r\n  }\r\n  \r\n  keyboard_event_up(key: string) {\r\n    let tecla = this.keyboardMap[key];\r\n    if (tecla == FigKey.LEFT) {\r\n      this.speed.x = 0;\r\n    } else if (tecla == FigKey.RIGHT) {\r\n      this.speed.x = 0;\r\n    }else if (tecla == FigKey.H) {\r\n      setTimeout(()=>this.move = \"nothing\",100)\r\n    }\r\n  }\r\n}\r\n","import { Actor } from \"./Actor\";\r\n\r\nexport class FPSViewer extends Actor {\r\n\tupdate() {}\r\n\tkeyboard_event() {}\r\n\tdraw(delta: number, ctx: CanvasRenderingContext2D) {\r\n\t\tconst fps = (1 / delta).toFixed(2);\r\n\t\tctx.font = \"15px Arial\";\r\n\t\tctx.fillStyle = \"black\";\r\n\t\tctx.fillText(`FPS:${fps}`, this.position.x, this.position.y);\r\n\t}\r\n}\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('6qpDd') + require('./helpers/bundle-manifest').resolve(\"7TP8k\");","import { Actor, IActor } from \"./Actor\";\r\nconst esc = require(\"../../public/assets/scenario.jpg\")\r\n\r\nexport class Map extends Actor implements IActor {\r\n  draw(delta: number, ctx: CanvasRenderingContext2D) {\r\n    const background = new Image();\r\n    background.src = esc;\r\n    ctx.drawImage(background, 150, 0, 1020, 1024, this.position.x, this.position.y, 3020, 4700);\r\n  }\r\n  update() {}\r\n  keyboard_event() {}\r\n}\r\n","import { Actor, IActor } from \"./actors/Actor\";\r\nimport { Barrier } from \"./actors/Barrier\";\r\nimport { Fighter } from \"./actors/Fighter\";\r\nimport { FPSViewer } from \"./actors/FPSViewer\";\r\nimport { Circuit, createCircuit } from \"./state/Circuit\";\r\nimport { MAP_A, MAP_B } from \"./utils/keyboardMap\";\r\nimport { Map } from \"../src/actors/Map\"\r\n\r\n\r\nwindow.onload = () => {\r\n\tvar canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\n\tvar ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n\r\n\tlet fps = new FPSViewer({ x: 5, y: 15 });\r\n\r\n\tlet fighterA = new Fighter({x: 200, y: 540}, MAP_A)\r\n\t//let fighterB = new Fighter({x: 800, y: 700}, MAP_A)\r\n\tlet escenario = new Map({x: 0, y: 0})\r\n\r\n\t//let cars = [fighterB, fighterA];\r\n\r\n\t//createCircuit(fighterA);\r\n\t\r\n\tlet actors: Array<IActor> = [escenario, fighterA, fps ];\r\n\r\n\tlet lastFrame = 0;\r\n\tconst render = (time: number) => {\r\n\t\tlet delta = (time - lastFrame) / 1000;\r\n\r\n\t\tlastFrame = time;\r\n\t\tactors.forEach((e) => e.update(delta));\r\n\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\t\tactors.forEach((e) => {\r\n\t\t\tctx.save();\r\n\t\t\te.draw(delta, ctx);\r\n\t\t\tctx.restore();\r\n\t\t});\r\n\t\twindow.requestAnimationFrame(render);\r\n\t};\r\n\r\n\twindow.requestAnimationFrame(render);\r\n\r\n\tdocument.body.addEventListener(\"keydown\", (e) => {\r\n\t\t// console.log(e.key);\r\n\t\tactors.forEach((actor) => {\r\n\t\t\tif (actor.keyboard_event_down) {\r\n\t\t\t\tactor.keyboard_event_down(e.key);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tdocument.body.addEventListener(\"keyup\", (e) => {\r\n\t\t// console.log(e.key);\r\n\t\tactors.forEach((actor) => {\r\n\t\t\tif (actor.keyboard_event_up) {\r\n\t\t\t\tactor.keyboard_event_up(e.key);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};\r\n"],"names":["FigKey","$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$8235678231353d24$export$f73d3eb6fd876d80","position","this","update","delta","draw","delta1","ctx","keyboard_event","key","$166ee4b8d283169d$export$30d2302944b616cd","$166ee4b8d283169d$export$40b97bd9cab42943","ArrowUp","UP","ArrowDown","DOWN","ArrowLeft","LEFT","ArrowRight","RIGHT","h","H","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$9293383312c81d8e$exports","getBundleURL","resolve","$f3ba61fef1c375b4$export$c7b2d994a4a4d4ef","initialPos","keyboardMap","size","w","super","figSize","maxSpeed","speed","x","y","jumping","frameCount","ryuSprite","Image","src","move","newPosX","newPosY","ryuFrameNeutral","sx","sy","sW","sH","ryuFrameWalk","ryuFrameJump","ryuFrameJumpDown","ryuFramelp","inNeutral","frame","Math","floor","drawImage","console","log","keyboard_event_down","tecla","keyboard_event_up","key1","setTimeout","$37691bb6273e74a0$export$13acb86b4b3ca30e","fps","toFixed","font","fillStyle","fillText","$ce923e80b966ab03$exports","$dec99b94dedca321$export$a5c7b93649eaf8f8","background","window","onload","canvas","document","getElementById","getContext","fighterA","actors","lastFrame","render","time","forEach","e","clearRect","width","height","save","restore","requestAnimationFrame","body","addEventListener","actor"],"version":3,"file":"index.d8e8f47f.js.map"}