function e(e,s,t,i){Object.defineProperty(e,s,{get:t,set:i,enumerable:!0,configurable:!0})}var s,t,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},n=i.parcelRequire5d0a;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in r){var s=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,s.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,s){r[e]=s},i.parcelRequire5d0a=n),n.register("bXuNP",(function(s,t){var i,o;e(s.exports,"register",(()=>i),(e=>i=e)),e(s.exports,"resolve",(()=>o),(e=>o=e));var r={};i=function(e){for(var s=Object.keys(e),t=0;t<s.length;t++)r[s[t]]=e[s[t]]},o=function(e){var s=r[e];if(null==s)throw new Error("Could not resolve bundle with id "+e);return s}})),n("bXuNP").register(JSON.parse('{"6qpDd":"index.d8e8f47f.js","kOIqV":"Ryu_sprite_sheet-removebg.a85bdbad.png","7TP8k":"scenario.fbcdb5c4.jpg"}'));class a{constructor(e){this.position=e}update(e){}draw(e,s){}keyboard_event(e){}}(t=s||(s={}))[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t[t.H=4]="H";let h={ArrowUp:s.UP,ArrowDown:s.DOWN,ArrowLeft:s.LEFT,ArrowRight:s.RIGHT,h:s.H};s.UP,s.DOWN,s.LEFT,s.RIGHT;var d;n.register("kPq84",(function(s,t){var i;e(s.exports,"getBundleURL",(()=>i),(e=>i=e));var o={};function r(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var s=o[e];return s||(s=function(){try{throw new Error}catch(s){var e=(""+s.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),o[e]=s),s}})),d=n("kPq84").getBundleURL("6qpDd")+n("bXuNP").resolve("kOIqV");class p extends a{constructor(e,s,t={w:160,h:390}){super(e),this.keyboardMap=s,this.figSize=t,this.maxSpeed=160,this.speed={x:0,y:0},this.jumping=!1,this.frameCount=0,this.ryuSprite=new Image,this.ryuSprite.src=d,this.move="noting"}update(e){let s=this.position.x+this.speed.x*e;s<1020&&s>=0&&(this.position.x=s);let t=this.position.y+this.speed.y;this.position.y=t,t<540&&(this.speed.y+=1.8*.4),t>=540&&(this.jumping=!1,t=540,this.speed.y=0)}draw(e,s){const t=[{sx:5,sy:10,sW:65,sH:95},{sx:70,sy:10,sW:65,sH:95},{sx:135,sy:10,sW:65,sH:95},{sx:201,sy:10,sW:65,sH:95},{sx:270,sy:10,sW:65,sH:95}],i=[{sx:7,sy:128,sW:65,sH:95},{sx:75,sy:128,sW:65,sH:95},{sx:153,sy:128,sW:65,sH:95},{sx:227,sy:128,sW:66,sH:95},{sx:306,sy:128,sW:65,sH:95},{sx:367,sy:124,sW:63,sH:95}],o=[{sx:63,sy:241,sW:65,sH:100},{sx:132,sy:231,sW:65,sH:95},{sx:188,sy:230,sW:66,sH:95},{sx:250,sy:237,sW:65,sH:95},{sx:312,sy:232,sW:63,sH:95}],r=[{sx:374,sy:245,sW:63,sH:110}],n=[{sx:6,sy:360,sW:65,sH:100},{sx:96,sy:360,sW:65,sH:95}];let a=1;if((this.speed.x>0||this.speed.x<0)&&this.position.y>=540){let e=i[Math.floor(this.frameCount/8)%i.length];s.drawImage(this.ryuSprite,e.sx,e.sy,e.sW,e.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y<0){a=0;let e=o[Math.floor(this.frameCount/20)%o.length];s.drawImage(this.ryuSprite,e.sx,e.sy,e.sW,e.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y>0){a=0;let e=Math.floor(this.frameCount/16);console.log(e);let t=r[e%r.length];s.drawImage(this.ryuSprite,t.sx,t.sy,t.sW,t.sH,this.position.x,this.position.y,this.figSize.w,400)}if("lp"==this.move){console.log(this.move);let e=n[Math.floor(this.frameCount/12)%n.length];s.drawImage(this.ryuSprite,e.sx,e.sy,e.sW,e.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h),this.speed.x=0,a=0}if(0==this.speed.x&&0==this.speed.y&&1==a){let e=t[Math.floor(this.frameCount/12)%t.length];s.drawImage(this.ryuSprite,e.sx,e.sy,e.sW,e.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}a=1,this.frameCount++}keyboard_event_down(e){let t=this.keyboardMap[e];t==s.LEFT?this.speed.x=45-this.maxSpeed:t==s.RIGHT?this.speed.x=this.maxSpeed:t==s.UP&&0==this.jumping?(this.speed.y-=25,this.jumping=!0):t==s.DOWN||t==s.H&&(this.move="lp")}keyboard_event_up(e){let t=this.keyboardMap[e];t==s.LEFT||t==s.RIGHT?this.speed.x=0:t==s.H&&setTimeout((()=>this.move="nothing"),100)}}class y extends a{update(){}keyboard_event(){}draw(e,s){const t=(1/e).toFixed(2);s.font="15px Arial",s.fillStyle="black",s.fillText(`FPS:${t}`,this.position.x,this.position.y)}}var l;l=n("kPq84").getBundleURL("6qpDd")+n("bXuNP").resolve("7TP8k");class u extends a{draw(e,s){const t=new Image;t.src=l,s.drawImage(t,150,0,1020,1024,this.position.x,this.position.y,3020,4700)}update(){}keyboard_event(){}}window.onload=()=>{var e=document.getElementById("canvas"),s=e.getContext("2d");let t=new y({x:5,y:15}),i=new p({x:200,y:540},h),o=[new u({x:0,y:0}),i,t],r=0;const n=t=>{let i=(t-r)/1e3;r=t,o.forEach((e=>e.update(i))),s.clearRect(0,0,e.width,e.height),o.forEach((e=>{s.save(),e.draw(i,s),s.restore()})),window.requestAnimationFrame(n)};window.requestAnimationFrame(n),document.body.addEventListener("keydown",(e=>{o.forEach((s=>{s.keyboard_event_down&&s.keyboard_event_down(e.key)}))})),document.body.addEventListener("keyup",(e=>{o.forEach((s=>{s.keyboard_event_up&&s.keyboard_event_up(e.key)}))}))};
//# sourceMappingURL=index.d8e8f47f.js.map
