function s(s,t,i,e){Object.defineProperty(s,t,{get:i,set:e,enumerable:!0,configurable:!0})}var t,i,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},h={},r={},o=e.parcelRequire5d0a;null==o&&((o=function(s){if(s in h)return h[s].exports;if(s in r){var t=r[s];delete r[s];var i={id:s,exports:{}};return h[s]=i,t.call(i.exports,i,i.exports),i.exports}var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(s,t){r[s]=t},e.parcelRequire5d0a=o),o.register("bXuNP",(function(t,i){var e,h;s(t.exports,"register",(()=>e),(s=>e=s)),s(t.exports,"resolve",(()=>h),(s=>h=s));var r={};e=function(s){for(var t=Object.keys(s),i=0;i<t.length;i++)r[t[i]]=s[t[i]]},h=function(s){var t=r[s];if(null==t)throw new Error("Could not resolve bundle with id "+s);return t}})),o("bXuNP").register(JSON.parse('{"6qpDd":"index.1420aebb.js","kOIqV":"Ryu_sprite_sheet-removebg.a85bdbad.png","7TP8k":"scenario.fbcdb5c4.jpg","gigQO":"Ken_sprite_sheet-removebg.b6cbb576.png","iQkEz":"vs3.a4ce9978.png"}'));class n{constructor(s){this.position=s}update(s){}draw(s,t){}keyboard_event(s){}}(i=t||(t={}))[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i[i.LP=4]="LP",i[i.MP=5]="MP",i[i.LK=6]="LK",i[i.MK=7]="MK",i[i.SPECIAL=8]="SPECIAL";let a,f={ArrowUp:t.UP,ArrowDown:t.DOWN,ArrowLeft:t.LEFT,ArrowRight:t.RIGHT,i:t.LP,o:t.MP,k:t.LK,l:t.MK,p:t.SPECIAL},y={w:t.UP,s:t.DOWN,a:t.LEFT,d:t.RIGHT,g:t.LP,h:t.MP,b:t.LK,n:t.MK,j:t.SPECIAL};class p{constructor(){this.totalLifeKen=400,this.totalLifeRyu=400,this.goingLeft=!1,this.goingRight=!1,this.distance=0,this.beatKen=!1,this.beatRyu=!1,this.win=!1,this.winKen=!1}touchingKen(s){this.totalLifeKen=this.totalLifeKen-s,this.beatKen=!0,setTimeout((()=>{this.beatKen=!1}),20)}touchingRyu(s){this.totalLifeRyu=this.totalLifeRyu-s,this.beatRyu=!0,setTimeout((()=>{this.beatRyu=!1}),450)}}var l;o.register("kPq84",(function(t,i){var e;s(t.exports,"getBundleURL",(()=>e),(s=>e=s));var h={};function r(s){return(""+s).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}e=function(s){var t=h[s];return t||(t=function(){try{throw new Error}catch(t){var s=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(s)return r(s[2])}return"/"}(),h[s]=t),t}})),l=o("kPq84").getBundleURL("6qpDd")+o("bXuNP").resolve("kOIqV");class m extends n{constructor(s,t,i,e={w:160,h:390}){super(s),this.keyboardMap=i,this.figSize=e,this.maxSpeed=180,this.speed={x:0,y:0},this.jumping=!1,this.Opponent=t,this.frameCount=0,this.ryuSprite=new Image,this.ryuSprite.src=l,this.move="noting",this.currentFrame=0,this.framesDrawn=0,this.onGo=!1,this.beat=!1}update(s){let t=this.position.x+this.speed.x*s;t<=880&&t>=0&&(this.position.x=t);let i=this.position.y+this.speed.y;this.position.y=i,i<540&&(this.speed.y+=1.8*.4),i>=540&&(this.jumping=!1,i=540,this.speed.y=0)}draw(s,t){let i=this.Opponent.position.x,e=this.position.x,h=Math.floor(Math.sqrt(Math.pow(e-i,2)));a.distance=h;const r=[{sx:5,sy:10,sW:65,sH:95},{sx:70,sy:10,sW:65,sH:95},{sx:135,sy:10,sW:65,sH:95},{sx:201,sy:10,sW:65,sH:95},{sx:270,sy:10,sW:65,sH:95}],o=[{sx:7,sy:128,sW:65,sH:95},{sx:75,sy:128,sW:65,sH:95},{sx:153,sy:128,sW:65,sH:95},{sx:227,sy:128,sW:66,sH:95},{sx:306,sy:128,sW:65,sH:95},{sx:367,sy:124,sW:63,sH:95}],n=[{sx:63,sy:241,sW:65,sH:100},{sx:132,sy:231,sW:65,sH:95},{sx:188,sy:230,sW:66,sH:95},{sx:250,sy:237,sW:65,sH:95},{sx:312,sy:232,sW:63,sH:95}],f=[{sx:374,sy:245,sW:63,sH:110}],y=[{sx:6,sy:360,sW:65,sH:100,fsW:this.figSize.w},{sx:96,sy:360,sW:96,sH:95,fsW:this.figSize.w+70},{sx:96,sy:360,sW:96,sH:95,fsW:this.figSize.w+70}],p=[{sx:6,sy:463,sW:65,sH:100,fsW:this.figSize.w},{sx:85,sy:463,sW:77,sH:95,fsW:this.figSize.w+20},{sx:170,sy:463,sW:116,sH:95,fsW:this.figSize.w+95},{sx:170,sy:463,sW:116,sH:95,fsW:this.figSize.w+95}],l=[{sx:13,sy:921,sW:65,sH:100,fsW:this.figSize.w},{sx:84,sy:921,sW:69,sH:95,fsW:this.figSize.w+10},{sx:161,sy:921,sW:116,sH:95,fsW:this.figSize.w+115},{sx:161,sy:921,sW:116,sH:95,fsW:this.figSize.w+115},{sx:84,sy:921,sW:69,sH:95,fsW:this.figSize.w+10}],m=[{sx:4,sy:1190,sW:63,sH:100,fsW:this.figSize.w},{sx:72,sy:1190,sW:95,sH:95,fsW:this.figSize.w+70},{sx:174,sy:1190,sW:123,sH:95,fsW:this.figSize.w+125},{sx:304,sy:1190,sW:102,sH:95,fsW:this.figSize.w+100},{sx:416,sy:1190,sW:65,sH:95,fsW:this.figSize.w}],u=[{sx:237,sy:2023,sW:72,sH:95,fsW:this.figSize.w+20}],x=[{sx:577,sy:1892,sW:55,sH:125,fsW:this.figSize.w}];let d=1;if(this.beat=a.beatRyu,(this.speed.x>0||this.speed.x<0)&&this.position.y>=540&&0==this.beat){let s=o[Math.floor(this.frameCount/8)%o.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y<0){d=0;let s=n[Math.floor(this.frameCount/20)%n.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y>0){d=0;let s=f[Math.floor(this.frameCount/16)%f.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,400)}if(1==a.win){d=0;let s=x[this.currentFrame%x.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y-105,s.fsW,this.figSize.h+100),1==a.win&&(this.framesDrawn++,this.framesDrawn>=12&&(this.currentFrame++,this.framesDrawn=0)),s==x[3]&&setTimeout((()=>{this.framesDrawn=0,this.currentFrame=0}),100)}if(1==this.beat){d=0;let s=u[this.currentFrame%u.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.beat&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==u[1]&&setTimeout((()=>{this.beat=!1,this.framesDrawn=0,this.currentFrame=0}),10),this.speed.x=-180,setTimeout((()=>{this.speed.x=0}),250)}if("mp"==this.move&&1==this.onGo&&this.position.y>=540){d=0;let s=p[this.currentFrame%p.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==p[3]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),90),this.speed.x=0,h<210&&a.touchingKen(1.1)}if("lp"==this.move&&1==this.onGo&&this.position.y>=540){d=0;let s=y[this.currentFrame%y.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==y[2]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),80),this.speed.x=0,h<188&&a.touchingKen(1)}if("lk"==this.move&&1==this.onGo&&this.position.y>=540){d=0;let s=l[this.currentFrame%l.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0),this.framesDrawn++),s==l[4]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),100),this.speed.x=0,h<235&&a.touchingKen(1)}if("mk"==this.move&&1==this.onGo&&this.position.y>=540){d=0;let s=m[this.currentFrame%m.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==m[4]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),120),this.speed.x=0,h<245&&a.touchingKen(1.2)}if(0==this.speed.x&&0==this.speed.y&&1==d){let s=r[Math.floor(this.frameCount/11)%r.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}d=1,this.frameCount++}keyboard_event_down(s){let i=this.keyboardMap[s],e=this.keyboardMap[s];i==t.LEFT?this.speed.x=45-this.maxSpeed:i==t.RIGHT?this.speed.x=this.maxSpeed:i==t.UP&&0==this.jumping?(this.speed.y-=25,this.jumping=!0):i==t.LP?(this.move="lp",this.onGo=!0):i==t.MP?(this.move="mp",this.onGo=!0):i==t.LK?(this.move="lk",this.onGo=!0):i==t.MK?(this.move="mk",this.onGo=!0):i==t.DOWN&&e==t.SPECIAL&&console.log("hadouken")}keyboard_event_up(s){let i=this.keyboardMap[s];(i==t.LEFT||i==t.RIGHT)&&(this.speed.x=0)}}class u extends n{update(){}keyboard_event(){}draw(s,t){const i=(1/s).toFixed(2);t.font="15px Arial",t.fillStyle="black",t.fillText(`${i}`,this.position.x,this.position.y)}}var x;x=o("kPq84").getBundleURL("6qpDd")+o("bXuNP").resolve("7TP8k");class d extends n{constructor(s,t,i){super(s),this.Fighter=t,this.Fighter2=i,this.frameCount=0,this.escMove=0,this.ex=150}draw(s,t){let i=this.Fighter.position.x,e=this.Fighter2.position.x;this.ex=150-this.escMove;const h=new Image;h.src=x,this.ex>=1&&this.ex<=275&&((i<=1||e<=1)&&(this.escMove=this.frameCount,console.log(this.escMove),this.frameCount=this.frameCount+.3),(i>=878||e>=878)&&(this.escMove=this.frameCount,console.log(this.escMove),this.frameCount=this.frameCount-.3)),t.drawImage(h,this.ex,0,1020,1024,this.position.x,this.position.y,3020,4700)}update(){}keyboard_event(){}}var g;g=o("kPq84").getBundleURL("6qpDd")+o("bXuNP").resolve("gigQO");class w extends n{constructor(s,t,i,e={w:160,h:390}){super(s),this.keyboardMap=i,this.figSize=e,this.maxSpeed=180,this.speed={x:0,y:0},this.jumping=!1,this.Opponent=t,this.frameCount=0,this.ryuSprite=new Image,this.ryuSprite.src=g,this.move="noting",this.currentFrame=0,this.framesDrawn=0,this.onGo=!1,this.touched=!1,this.beat=!1}update(s){let t=this.position.x+this.speed.x*s;t<=880&&t>=0&&(this.position.x=t);let i=this.position.y+this.speed.y;this.position.y=i,i<540&&(this.speed.y+=1.8*.4),i>=540&&(this.jumping=!1,i=540,this.speed.y=0)}draw(s,t){let i=a.distance;const e=[{sx:1,sy:684,sW:63,sH:95},{sx:70,sy:684,sW:63,sH:95},{sx:139,sy:684,sW:63,sH:95},{sx:207,sy:684,sW:63,sH:95},{sx:275,sy:684,sW:63,sH:95}],h=[{sx:4,sy:863,sW:65,sH:95},{sx:68,sy:863,sW:65,sH:95},{sx:138,sy:863,sW:65,sH:95},{sx:213,sy:863,sW:66,sH:95},{sx:283,sy:861.8,sW:65,sH:95},{sx:352,sy:863,sW:63,sH:95}],r=[{sx:724,sy:1036,sW:65,sH:100},{sx:787,sy:992,sW:65,sH:95},{sx:842,sy:964,sW:66,sH:95},{sx:909,sy:963,sW:65,sH:95},{sx:968,sy:973,sW:63,sH:95}],o=[{sx:1030,sy:1006,sW:63,sH:110}],n=[{sx:3,sy:1150,sW:65,sH:100,fsW:this.figSize.w},{sx:69,sy:1150,sW:96,sH:95,fsW:this.figSize.w+70},{sx:69,sy:1150,sW:96,sH:95,fsW:this.figSize.w+70}],f=[{sx:166,sy:1148,sW:65,sH:100,fsW:this.figSize.w},{sx:235,sy:1148,sW:77,sH:95,fsW:this.figSize.w+20},{sx:316,sy:1148,sW:116,sH:95,fsW:this.figSize.w+95},{sx:316,sy:1148,sW:116,sH:95,fsW:this.figSize.w+95}],y=[{sx:3,sy:1150,sW:65,sH:100,fsW:this.figSize.w},{sx:62,sy:1563,sW:69,sH:95,fsW:this.figSize.w+10},{sx:142,sy:1563,sW:116,sH:95,fsW:this.figSize.w+115},{sx:142,sy:1563,sW:116,sH:95,fsW:this.figSize.w+115},{sx:258,sy:1563,sW:69,sH:95,fsW:this.figSize.w+10}],p=[{sx:682,sy:1565,sW:63,sH:100,fsW:this.figSize.w},{sx:762,sy:1565,sW:95,sH:95,fsW:this.figSize.w+70},{sx:868,sy:1565,sW:123,sH:95,fsW:this.figSize.w+125},{sx:1003,sy:1565,sW:102,sH:95,fsW:this.figSize.w+100},{sx:1144,sy:1565,sW:65,sH:95,fsW:this.figSize.w}],l=[{sx:484,sy:3275,sW:72,sH:95,fsW:this.figSize.w+20}],m=[{sx:204,sy:3592,sW:60,sH:125,fsW:this.figSize.w}];this.beat=a.beatKen;let u=1;if(t.translate(this.position.x+this.figSize.w/2,0),t.scale(-1,1),t.translate(-(this.position.x+this.figSize.w/2),0),(this.speed.x>0||this.speed.x<0)&&this.position.y>=540&&0==this.beat){let s=h[Math.floor(this.frameCount/8)%h.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y<0){u=0;let s=r[Math.floor(this.frameCount/20)%r.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}if(this.speed.y>0){u=0;let s=o[Math.floor(this.frameCount/16)%o.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,400)}if(1==a.winKen){u=0;let s=m[this.currentFrame%m.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y-105,s.fsW,this.figSize.h+100),1==a.win&&(this.framesDrawn++,this.framesDrawn>=12&&(this.currentFrame++,this.framesDrawn=0)),s==m[3]&&setTimeout((()=>{this.framesDrawn=0,this.currentFrame=0}),100)}if(1==this.beat){u=0;let s=l[this.currentFrame%l.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.beat&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==l[1]&&setTimeout((()=>{this.beat=!1,this.framesDrawn=0,this.currentFrame=0}),10),this.speed.x=180,setTimeout((()=>{this.speed.x=0}),250)}if("mp"==this.move&&1==this.onGo&&this.position.y>=540){u=0;let s=f[this.currentFrame%f.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==f[3]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),90),this.speed.x=0,i<210&&a.touchingRyu(1.1)}if("lp"==this.move&&1==this.onGo&&this.position.y>=540){u=0;let s=n[this.currentFrame%n.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==n[2]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),80),this.speed.x=0,i<188&&a.touchingRyu(1)}if("lk"==this.move&&1==this.onGo&&this.position.y>=540){u=0;let s=y[this.currentFrame%y.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0),this.framesDrawn++),s==y[4]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),100),this.speed.x=0,i<235&&a.touchingRyu(1)}if("mk"==this.move&&1==this.onGo&&this.position.y>=540){u=0;let s=p[this.currentFrame%p.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,s.fsW,this.figSize.h),1==this.onGo&&(this.framesDrawn++,this.framesDrawn>=10&&(this.currentFrame++,this.framesDrawn=0)),s==p[4]&&setTimeout((()=>{this.onGo=!1,this.framesDrawn=0,this.currentFrame=0}),120),this.speed.x=0,i<245&&a.touchingRyu(1.2)}if(0==this.speed.x&&0==this.speed.y&&1==u){let s=e[Math.floor(this.frameCount/10)%e.length];t.drawImage(this.ryuSprite,s.sx,s.sy,s.sW,s.sH,this.position.x,this.position.y,this.figSize.w,this.figSize.h)}u=1,this.frameCount++}keyboard_event_down(s){let i=this.keyboardMap[s],e=this.keyboardMap[s];i==t.LEFT?this.speed.x=45-this.maxSpeed:i==t.RIGHT?this.speed.x=this.maxSpeed:i==t.UP&&0==this.jumping?(this.speed.y-=25,this.jumping=!0):i==t.LP?(this.move="lp",this.onGo=!0):i==t.MP?(this.move="mp",this.onGo=!0):i==t.LK?(this.move="lk",this.onGo=!0):i==t.MK?(this.move="mk",this.onGo=!0):i==t.DOWN&&e==t.SPECIAL&&console.log("hadouken")}keyboard_event_up(s){let i=this.keyboardMap[s];i==t.LEFT||i==t.RIGHT?this.speed.x=0:t.MP}}var W;W=o("kPq84").getBundleURL("6qpDd")+o("bXuNP").resolve("iQkEz");class c extends n{constructor(s){super(s),this.vs=new Image,this.vs.src=W}draw(s,t){let i=a.totalLifeKen,e=a.totalLifeRyu;console.log(i),i<=0&&(a.win=!0,t.font="bold 70px Verdana",t.fillStyle="orange",t.fillText("RYU WINS",310,250),t.strokeText("RYU WINS",310,250)),e<=0&&(a.winKen=!0,t.font="bold 70px Verdana",t.fillStyle="orange",t.fillText("KEN WINS",310,250),t.strokeText("KEN WINS",310,250)),t.font="bold 30px Verdana",t.fillStyle="orange",t.fillText("RYU",92,120),t.strokeText("RYU",92,120),t.font="bold 30px Verdana",t.fillStyle="orange",t.fillText("KEN",860,120),t.strokeText("KEN",860,120),t.drawImage(this.vs,481,30,55,60),t.fillStyle="red",t.fillRect(530,40,400,40),i>0&&(t.fillStyle="yellow",t.fillRect(530,40,i,40)),t.translate(290,0),t.scale(-1,1),t.translate(-290,0),t.fillStyle="red",t.fillRect(90,40,400,40),e>0&&(t.fillStyle="yellow",t.fillRect(90,40,e,40))}update(){}keyboard_event(){}}window.onload=()=>{var s=document.getElementById("canvas"),t=s.getContext("2d");let i=new u({x:5,y:15}),e=new c({x:0,y:0});var h=new w({x:600,y:540},r,f),r=new m({x:200,y:540},h,y);let o=new d({x:0,y:0},r,h);a=new p;let n=[o,e,r,h,i],l=0;const x=i=>{let e=(i-l)/1e3;l=i,n.forEach((s=>s.update(e))),t.clearRect(0,0,s.width,s.height),n.forEach((s=>{t.save(),s.draw(e,t),t.restore()})),window.requestAnimationFrame(x)};window.requestAnimationFrame(x),document.body.addEventListener("keydown",(s=>{n.forEach((t=>{t.keyboard_event_down&&t.keyboard_event_down(s.key)}))})),document.body.addEventListener("keyup",(s=>{n.forEach((t=>{t.keyboard_event_up&&t.keyboard_event_up(s.key)}))}))};
//# sourceMappingURL=index.1420aebb.js.map
